import{Q as g}from"./quill.snow-71ebf701.js";import{r as u,D as m,a as c}from"./dropify.min-7eced412.js";import{c as v}from"./app-22784e3d.js";var w={exports:{}};/*!
 * =============================================================
 * dropify v0.2.1 - Override your input files with style.
 * https://github.com/JeremyFagis/dropify
 *
 * (c) 2016 - Jeremy FAGIS <jeremy@fagis.fr> (http://fagis.fr)
 * =============================================================
 */(function(o,l){(function(s,e){o.exports=e(u())})(v,function(s){function e(i,t){if(window.File&&window.FileReader&&window.FileList&&window.Blob){var r={defaultFile:"",maxFileSize:0,minWidth:0,maxWidth:0,minHeight:0,maxHeight:0,showRemove:!0,showLoader:!0,showErrors:!0,errorTimeout:3e3,errorsPosition:"overlay",imgFileExtensions:["png","jpg","jpeg","gif","bmp"],maxFileSizePreview:"5M",allowedFormats:["portrait","square","landscape"],allowedFileExtensions:["*"],messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big ({{ value }} max).",minWidth:"The image width is too small ({{ value }}}px min).",maxWidth:"The image width is too big ({{ value }}}px max).",minHeight:"The image height is too small ({{ value }}}px min).",maxHeight:"The image height is too big ({{ value }}px max).",imageFormat:"The image format is not allowed ({{ value }} only).",fileExtension:"The file is not allowed ({{ value }} only)."},tpl:{wrap:'<div class="dropify-wrapper"></div>',loader:'<div class="dropify-loader"></div>',message:'<div class="dropify-message"><span class="file-icon" /> <p>{{ default }}</p></div>',preview:'<div class="dropify-preview"><span class="dropify-render"></span><div class="dropify-infos"><div class="dropify-infos-inner"><p class="dropify-infos-message">{{ replace }}</p></div></div></div>',filename:'<p class="dropify-filename"><span class="file-icon"></span> <span class="dropify-filename-inner"></span></p>',clearButton:'<button type="button" class="dropify-clear">{{ remove }}</button>',errorLine:'<p class="dropify-error">{{ error }}</p>',errorsContainer:'<div class="dropify-errors-container"><ul></ul></div>'}};this.element=i,this.input=s(this.element),this.wrapper=null,this.preview=null,this.filenameWrapper=null,this.settings=s.extend(!0,r,t,this.input.data()),this.errorsEvent=s.Event("dropify.errors"),this.isDisabled=!1,this.isInit=!1,this.file={object:null,name:null,size:null,width:null,height:null,type:null},Array.isArray(this.settings.allowedFormats)||(this.settings.allowedFormats=this.settings.allowedFormats.split(" ")),Array.isArray(this.settings.allowedFileExtensions)||(this.settings.allowedFileExtensions=this.settings.allowedFileExtensions.split(" ")),this.onChange=this.onChange.bind(this),this.clearElement=this.clearElement.bind(this),this.onFileReady=this.onFileReady.bind(this),this.translateMessages(),this.createElements(),this.setContainerSize(),this.errorsEvent.errors=[],this.input.on("change",this.onChange)}}var p="dropify";return e.prototype.onChange=function(){this.resetPreview(),this.readFile(this.element)},e.prototype.createElements=function(){this.isInit=!0,this.input.wrap(s(this.settings.tpl.wrap)),this.wrapper=this.input.parent();var i=s(this.settings.tpl.message).insertBefore(this.input);s(this.settings.tpl.errorLine).appendTo(i),this.isTouchDevice()===!0&&this.wrapper.addClass("touch-fallback"),this.input.attr("disabled")&&(this.isDisabled=!0,this.wrapper.addClass("disabled")),this.settings.showLoader===!0&&(this.loader=s(this.settings.tpl.loader),this.loader.insertBefore(this.input)),this.preview=s(this.settings.tpl.preview),this.preview.insertAfter(this.input),this.isDisabled===!1&&this.settings.showRemove===!0&&(this.clearButton=s(this.settings.tpl.clearButton),this.clearButton.insertAfter(this.input),this.clearButton.on("click",this.clearElement)),this.filenameWrapper=s(this.settings.tpl.filename),this.filenameWrapper.prependTo(this.preview.find(".dropify-infos-inner")),this.settings.showErrors===!0&&(this.errorsContainer=s(this.settings.tpl.errorsContainer),this.settings.errorsPosition==="outside"?this.errorsContainer.insertAfter(this.wrapper):this.errorsContainer.insertBefore(this.input));var t=this.settings.defaultFile||"";t.trim()!==""&&(this.file.name=this.cleanFilename(t),this.setPreview(this.isImage(),t))},e.prototype.readFile=function(i){if(i.files&&i.files[0]){var t=new FileReader,r=new Image,n=i.files[0],a=null,h=this,d=s.Event("dropify.fileReady");this.clearErrors(),this.showLoader(),this.setFileInformations(n),this.errorsEvent.errors=[],this.checkFileSize(),this.isFileExtensionAllowed(),this.isImage()&&this.file.size<this.sizeToByte(this.settings.maxFileSizePreview)?(this.input.on("dropify.fileReady",this.onFileReady),t.readAsDataURL(n),t.onload=(function(f){a=f.target.result,r.src=f.target.result,r.onload=function(){h.setFileDimensions(this.width,this.height),h.validateImage(),h.input.trigger(d,[!0,a])}}).bind(this)):this.onFileReady(!1)}},e.prototype.onFileReady=function(i,t,r){if(this.input.off("dropify.fileReady",this.onFileReady),this.errorsEvent.errors.length===0)this.setPreview(t,r);else{this.input.trigger(this.errorsEvent,[this]);for(var n=this.errorsEvent.errors.length-1;n>=0;n--){var a=this.errorsEvent.errors[n].namespace,h=a.split(".").pop();this.showError(h)}if(typeof this.errorsContainer<"u"){this.errorsContainer.addClass("visible");var d=this.errorsContainer;setTimeout(function(){d.removeClass("visible")},this.settings.errorTimeout)}this.wrapper.addClass("has-error"),this.resetPreview(),this.clearElement()}},e.prototype.setFileInformations=function(i){this.file.object=i,this.file.name=i.name,this.file.size=i.size,this.file.type=i.type,this.file.width=null,this.file.height=null},e.prototype.setFileDimensions=function(i,t){this.file.width=i,this.file.height=t},e.prototype.setPreview=function(i,t){this.wrapper.removeClass("has-error").addClass("has-preview"),this.filenameWrapper.children(".dropify-filename-inner").html(this.file.name);var r=this.preview.children(".dropify-render");if(this.hideLoader(),i===!0){var n=s("<img />").attr("src",t);this.settings.height&&n.css("max-height",this.settings.height),n.appendTo(r)}else s("<i />").attr("class","dropify-font-file").appendTo(r),s('<span class="dropify-extension" />').html(this.getFileType()).appendTo(r);this.preview.fadeIn()},e.prototype.resetPreview=function(){this.wrapper.removeClass("has-preview");var i=this.preview.children(".dropify-render");i.find(".dropify-extension").remove(),i.find("i").remove(),i.find("img").remove(),this.preview.hide(),this.hideLoader()},e.prototype.cleanFilename=function(i){var t=i.split("\\").pop();return t==i&&(t=i.split("/").pop()),i!==""?t:""},e.prototype.clearElement=function(){if(this.errorsEvent.errors.length===0){var i=s.Event("dropify.beforeClear");this.input.trigger(i,[this]),i.result!==!1&&(this.resetFile(),this.input.val(""),this.resetPreview(),this.input.trigger(s.Event("dropify.afterClear"),[this]))}else this.resetFile(),this.input.val(""),this.resetPreview()},e.prototype.resetFile=function(){this.file.object=null,this.file.name=null,this.file.size=null,this.file.type=null,this.file.width=null,this.file.height=null},e.prototype.setContainerSize=function(){this.settings.height&&this.wrapper.height(this.settings.height)},e.prototype.isTouchDevice=function(){return"ontouchstart"in window||navigator.MaxTouchPoints>0||navigator.msMaxTouchPoints>0},e.prototype.getFileType=function(){return this.file.name.split(".").pop().toLowerCase()},e.prototype.isImage=function(){return this.settings.imgFileExtensions.indexOf(this.getFileType())!="-1"},e.prototype.isFileExtensionAllowed=function(){return this.settings.allowedFileExtensions.indexOf("*")!="-1"||this.settings.allowedFileExtensions.indexOf(this.getFileType())!="-1"?!0:(this.pushError("fileExtension"),!1)},e.prototype.translateMessages=function(){for(var i in this.settings.tpl)for(var t in this.settings.messages)this.settings.tpl[i]=this.settings.tpl[i].replace("{{ "+t+" }}",this.settings.messages[t])},e.prototype.checkFileSize=function(){this.sizeToByte(this.settings.maxFileSize)!==0&&this.file.size>this.sizeToByte(this.settings.maxFileSize)&&this.pushError("fileSize")},e.prototype.sizeToByte=function(i){var t=0;if(i!==0){var r=i.slice(-1).toUpperCase(),n=1024,a=1024*n,h=1024*a;r==="K"?t=parseFloat(i)*n:r==="M"?t=parseFloat(i)*a:r==="G"&&(t=parseFloat(i)*h)}return t},e.prototype.validateImage=function(){this.settings.minWidth!==0&&this.settings.minWidth>=this.file.width&&this.pushError("minWidth"),this.settings.maxWidth!==0&&this.settings.maxWidth<=this.file.width&&this.pushError("maxWidth"),this.settings.minHeight!==0&&this.settings.minHeight>=this.file.height&&this.pushError("minHeight"),this.settings.maxHeight!==0&&this.settings.maxHeight<=this.file.height&&this.pushError("maxHeight"),this.settings.allowedFormats.indexOf(this.getImageFormat())=="-1"&&this.pushError("imageFormat")},e.prototype.getImageFormat=function(){return this.file.width==this.file.height?"square":this.file.width<this.file.height?"portrait":this.file.width>this.file.height?"landscape":void 0},e.prototype.pushError=function(i){var t=s.Event("dropify.error."+i);this.errorsEvent.errors.push(t),this.input.trigger(t,[this])},e.prototype.clearErrors=function(){typeof this.errorsContainer<"u"&&this.errorsContainer.children("ul").html("")},e.prototype.showError=function(i){typeof this.errorsContainer<"u"&&this.errorsContainer.children("ul").append("<li>"+this.getError(i)+"</li>")},e.prototype.getError=function(i){var t=this.settings.error[i],r="";return i==="fileSize"?r=this.settings.maxFileSize:i==="minWidth"?r=this.settings.minWidth:i==="maxWidth"?r=this.settings.maxWidth:i==="minHeight"?r=this.settings.minHeight:i==="maxHeight"?r=this.settings.maxHeight:i==="imageFormat"?r=this.settings.allowedFormats.join(", "):i==="fileExtension"&&(r=this.settings.allowedFileExtensions.join(", ")),r!==""?t.replace("{{ value }}",r):t},e.prototype.showLoader=function(){typeof this.loader<"u"&&this.loader.show()},e.prototype.hideLoader=function(){typeof this.loader<"u"&&this.loader.hide()},e.prototype.destroy=function(){this.input.siblings().remove(),this.input.unwrap(),this.isInit=!1},e.prototype.init=function(){this.createElements()},e.prototype.isDropified=function(){return this.isInit},s.fn[p]=function(i){return this.each(function(){s.data(this,p)||s.data(this,p,new e(this,i))}),this},e})})(w);new g("#snow-editor",{theme:"snow",modules:{toolbar:[[{font:[]},{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"super"},{script:"sub"}],[{header:[!1,1,2,3,4,5,6]},"blockquote","code-block"],[{list:"ordered"},{list:"bullet"},{indent:"-1"},{indent:"+1"}],["direction",{align:[]}],["link","image","video"],["clean"]]}});(function(o){function l(){this.$body=o("body")}l.prototype.init=function(){c.autoDiscover=!1,o('[data-plugin="dropzone"]').each(function(){var s=o(this).attr("action"),e=o(this).data("previewsContainer"),s={url:s},e=(e&&(s.previewsContainer=e),o(this).data("uploadPreviewTemplate"));e&&(s.previewTemplate=o(e).html()),o(this).dropzone(s)})},o.FileUpload=new l,o.FileUpload.Constructor=l})(window.jQuery),function(){window.jQuery.FileUpload.init()}(),0<$('[data-plugins="dropify"]').length&&new m($('[data-plugins="dropify"]'),{messages:{default:"Drag and drop a file here or click",replace:"Drag and drop or click to replace",remove:"Remove",error:"Ooops, something wrong appended."},error:{fileSize:"The file size is too big (1M max)."}});
